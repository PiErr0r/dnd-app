<!DOCTYPE html>
<html>
	<head>
		<link href="../favicon.ico" rel="icon" type="image/x-icon" />
		<link href="../styles/inittrack.css" rel="stylesheet"/>
    <meta charset="utf-8">
    <title>DnD App</title>
	</head>
	<aside class="routes-container">
	</aside>
	<body>

		<header>
			<h1>Initiative tracker</h1>
		</header>

		<main>
			<div class="options">
				<!-- Button to roll randomly for everyone except the players -->
				<button id="do-roll" style="font-size: 20px; background-color: #fff; display: inline-block; margin-right: 50px;">Roll!</button>
				
				<!-- Button to manually sort the records -->
				<button id="do-sort" style="font-size: 20px; background-color: #fff; display: inline-block; margin-right: 50px;" disabled="true">Sort</button>

				<!-- Checkbox to decide if you want automatic sorting on or off -->
				<input type="checkbox" id="auto-sort" name="auto-sort" style="display: inline-block;" checked="true">
				<label for="auto-sort" style="display: inline-block; font-size: 20px;">Automatic sort</label><br>
			</div>
			<div class="init-track">
			</div>
			<div class="add-record">
				<!-- Number of records you wish to add -->
				<input id="add-record-num" class="add-record-num is-num" type="text" value="1">

				<!-- add selected number of records -->
				<button class="record-action add-record-btn" id="add-record-btn" style="height: 50px; width: 50px; margin: 0px; padding: 0px; display: block; position: absolute; left: 52%;">
					<img src="../images/plus-square-regular.svg"/>
				</button>
			</div>
			<div class="how-to-use">
				
				<h2>How to use</h2>
				<p>
					Initially 4 records will be created. Their initiative score and dexterity bonus are set to 0 and their player checkbox is set to true (checkbox on the left - try hovering).
					<br/>
					In addition your cursor will focus on the first record. As you fill the names of the players and initiative scores or dexterity bonuses the records will automatically sort themselves.
					<br/>
					To disable this automatic sorting because it might get annoying during the filling phase uncheck the <strong>Automatic sort</strong> checkbox.
					<br />
					Unchecking the <strong>Automatic sort</strong> checkbox will allow you to click on the <strong>Sort</strong> button which will also sort the records.
					<br/>
				</p>
				<p>
					<strong>Add</strong> button below the records allows you to add more players/monsters. Records added like this will initially be set as non players and you will focus the first of n records you add
					<br/>
					You can specify the number of records you wish to add but you can't add more than 29 records simultaneously.
					<br/>
					To <strong>Delete</strong> the records from the list just click on the trash button on the right of each record
				</p>
				<p>
					<strong>Roll</strong> button will randomly roll for all of the records which are not considered players (<strong>Is player</strong> checkbox is unchecked)
					<br/>
					The roll is a random roll between 0 and 100 modulo 15 (remainder of division with 15) with added 5 which mean all of the rolls will be between 5 and 19
					<br/>
					Test results show that of 10 records almost always one has the highest score and one has the lowest
					<br/>
					Formula for the random roll is following:
					<br/>
					<pre>roll = 5 + ceil( random(0,100) ) % 15</pre>
					
				</p>
			</div>
		</main>

    <script type="text/javascript" src="../scripts/lib/require.js"></script>
		<script type="text/javascript" src="../scripts/inittrack.js"></script>
		<script type="text/javascript">

			// Return false if n is not a number or is out of (min, max) interval
			const isNotNum = (n, min = 0, max = 10) => {
				const intN = parseInt(n, 10);
				return Object.is(intN, NaN) || intN >= max || intN <= min;
			}

		</script>
	</body>
</html> 